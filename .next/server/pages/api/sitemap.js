"use strict";(()=>{var e={};e.id=290,e.ids=[290],e.modules={7325:e=>{e.exports=require("@sitecore-jss/sitecore-jss-nextjs")},3917:e=>{e.exports=require("@sitecore-jss/sitecore-jss-nextjs/site")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},5826:(e,t,s)=>{s.r(t),s.d(t,{config:()=>u,default:()=>m,routeModule:()=>h});var a={};s.r(a),s.d(a,{default:()=>l});var i=s(666),r=s(5227),p=s(3068),n=s(7325),o=s(8086),d=s(8310),c=s.n(d);let sitemapApi=async(e,t)=>{let{query:{id:s}}=e,a=e.headers.host?.split(":")[0]||"localhost",i=o.T.getByHost(a),r=new n.GraphQLSitemapXmlService({endpoint:c().graphQLEndpoint,apiKey:c().sitecoreApiKey,siteName:i.name}),p=await r.getSitemap(s);if(p){let e=p.match("^(?:[a-z]+:)?//"),s=e?p:`${c().sitecoreApiHost}${p}`;return t.setHeader("Content-Type","text/xml;charset=utf-8"),new n.AxiosDataFetcher().get(s,{responseType:"stream"}).then(e=>{e.data.pipe(t)}).catch(()=>t.redirect("/404"))}let d=await r.fetchSitemaps();if(!d.length)return t.redirect("/404");let l=e.headers.host,m=e.headers["x-forwarded-proto"]||"https",u=d.map(e=>{let t=e.split("/"),s=t[t.length-1];return`<sitemap>
        <loc>${m}://${l}/${s}</loc>
      </sitemap>`}).join("");return t.setHeader("Content-Type","text/xml;charset=utf-8"),t.send(`
  <sitemapindex xmlns="http://sitemaps.org/schemas/sitemap/0.9" encoding="UTF-8">${u}</sitemapindex>
  `)},l=sitemapApi,m=(0,p.l)(a,"default"),u=(0,p.l)(a,"config"),h=new i.PagesAPIRouteModule({definition:{kind:r.x.PAGES_API,page:"/api/sitemap",pathname:"/api/sitemap",bundlePath:"",filename:""},userland:a})}};var t=require("../../webpack-api-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[159,86],()=>__webpack_exec__(5826));module.exports=s})();